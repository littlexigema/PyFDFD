动态生成网格点的思路是基于域的几何形状、PML（完美匹配层）的厚度、形状数组和源数组来灵活地划分网格点，以适应不同的物理需求和几何结构。以下是具体的步骤：

1. **初始化间隔集合**：
   - 遍历 `shape_array` 中的每个形状对象，提取其在每个轴上的几何间隔（`interval`）。
   - 检查这些间隔是否是新的（与已有间隔不同），如果是，则将其加入对应轴的间隔集合中。

2. **处理源点位置**：
   - 遍历 `src_array` 中的每个源对象，提取其在每个轴上的主网格点（`lprim`）和对偶网格点（`ldual`），并分别存储。

3. **生成网格点**：
   - 对每个轴，调用 `generate_lprim1d_part` 函数，根据域的范围、PML厚度、间隔集合、主网格点和对偶网格点生成部分网格点。
   - 使用 `complete_lprim1d` 函数将部分网格点补全为完整的网格点。

4. **处理异常情况**：
   - 如果生成网格点失败，尝试忽略对偶网格点重新生成。
   - 如果仍然失败，则抛出异常，提示网格生成失败。

5. **计算PML区域网格点数**：
   - 根据生成的网格点，计算PML区域内的网格点数量。

6. **存储结果**：
   - 将生成的网格点存储到 `lprim_cell` 中，并记录PML区域的网格点数量到 `Npml` 中。

这种动态生成方法的优点是能够根据输入的几何和物理需求自适应地生成网格点，避免了固定网格划分可能带来的不精确或不灵活的问题。